\section{Получение результата в общем случае}

На протяжении всей работы мы накладываем на вес $a$ следующие ограничения:
$$\leqno(H1) \ a(x, u) \text{ удовлетворяет неравенству (\ref{almostConcaveSum}),
непрерывна, а также } I(u) < \infty.$$

Далее будем накладывать по-одному новые условия на вес $a$, каждый раз
показывая, что от нового условия можно избавиться, с тем, чтобы войти в
условия, при которых результат уже доказан.

Схема: $a$ удовлетворяет $H1$--$Hi$.
Строим последовательность $a_k$, удовлетворяющих $H1$--$H(i+1)$
так, чтобы $a^n := \max\limits_{k \le n} a_k \nearrow a$.

$$\leqno(H2) \text{ Если } a(x_0, u(x_0)) = 0
\text{, то в некоторой окрестности } u(x_0) \text{ выполнено }
a(x_0, \cdot) \equiv 0$$

Если $a(x_0, u(x_0)) = 0$, то раздуем вес $a$ в точках $u(x_0-)$ и
$u(x_0+)$. Раздувание: в малой $u$-окрестности делаем вес независящим от
$u$, в некоторой большей окрестности линейно по $u$ соединяем с изначальным
весом. Далее в еще большей окрестности домножаем на коэффициент, зависящий
от $u$ с тем, чтобы получившаяся функция была меньше изначальной. Окрестности
можно выбрать независимо малыми.
Однако, чтобы можно было подобрать коэффициент, необходимо, чтобы во всей
внешней окрестности набор нулей был подмножеством набора нулей при $u(x_0)$.
Это можно обеспечить (!!!)
и непрерывный коэффициент в этом случае существует (!!!).

Далее уменьшаем окрестности, берем максимум первых нескольких приближений.
Такая последовательность приближает вес $a$ снизу, что и требовалось.

\begin{align*}
(H3) & \text{ Количество нулей функций } a(\cdot, u)
\text{ ограничено константой, не зависящей от } u \\
&\text{ для тех } u \text{, для которых } a(\cdot, u) \not\equiv 0.
\end{align*}

Предположим, вес $a$ удовлетворяет условиям $H1$--$H2$.
Будем строить приближение для него весами, удовлетворяющими $H1$--$H3$.
Возьмем какое-нибудь $u_0$, для которого $a(\cdot, u_0) = 0$.
В малой окрестности заменим на $0$.
В чуть большей окрестности линейно по $u$ соединяем с изначальными значениями.
Еще в чуть большей окрестности домножаем на коэффициент,
зависящий только от $u$ и получаем функцию не больше изначальной.
Во вторую и третью окрестности не должны попасть сплошные нули.
Повторяем для каждого не покрытого еще $u_0$.
Если сначала покрывать точки сгущения нулей, получится конечное количество
операций.
Получившаяся функция удовлетворяет $H1$--$H3$ (!!!).

Уменьшим все окрестности по крайней мере в $2$ раза
(аккуратно с нулевыми отрезками).
Тем же способом покроем вылезшие нули.
Получается последовательность, частичные максимумы которой приближают
изначальный вес $a$ снизу.

$$\leqno(H4) \ a(\cdot, u) \text{ кусочно линейны для каждого } u.$$

Фиксируем $\eps$.
В проколотых $\eps$-окрестностях точек множества $\{x: a(x, u(x)) = 0\}$
заменяем $u$ на константу. При достаточно малом $\eps$ это не выводит
функцию $u$ из области определения функционала, так как $H2$.
Выберем мелкость разбиения. Проинтерполируем.
Все нули кроме сплошных должны попасть в узлы.
Выберем (!!!) коэффициент, при домножении на который новая функция будет меньше
изначальной вне замененных $\eps$-окрестностей.
Для полученных функций выполняются условия $H1$--$H4$.
Переходим к пределу по мелкости разбиения.
Переходим к пределу по $\eps$.

\begin{align*}
(H5) \ &[-1, 1] \text{ можно разбить на конечное число промежутков, в }
u \text{-окрестности каж-}\\
& \text{дого из которых вес } a \text{ имеет одну монотонность по } x.
\end{align*}

Положим, $a$ удовлетворяет $H1$--$H4$.
Из-за чего может быть бесконечное число промежутков:
I) из-за пересечения бесконечного числа прямоугольников
II) из-за пересечения одной границы прямоугольников неограниченное число раз.
Одинаковая монотонность уже есть, нет окрестности, когда
III) пересекаем горизонтальную границу прямоугольника (в том числе по углу).
Точки типа I могут иметь скопления.
Раздуваем $a$ сначала из них, затем из оставшихся.
Следим, чтобы не нарушались условия $H1$--$H4$ (особенно $H2$),
домножаем на коэффициент (!!!) (нули (см. $H3$) + что вообще можно).

$$\leqno(H6) \text{ В } (x, u) \text{-окрестностях ненулевых минимумов }
a(x, u(x)) \text{ вес } a \text{ не зависит от } x.$$

Если минимум достигается при пересечении горизонтальной границы прямоугольника,
то все и так есть в силу $H5$.
Если при пересечении вертикальной границы, то в некоторой $u$-окрестности
поднимаем минимумы (!!! как выбрать непрерывно?),
домножаем в чуть большей окрестности.
Множество нулей, монотонность и кусочная линейность остаются (!!!).

